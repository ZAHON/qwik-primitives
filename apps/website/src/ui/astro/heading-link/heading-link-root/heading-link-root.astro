---
import type { HTMLAttributes } from 'astro/types';
import { twm } from '@/utilities/twm';
import { headingLinkRootStyles } from './heading-link-root.styles';
import { $headingLinkStore } from '../heading-link-store';

interface Props extends HTMLAttributes<'h1'> {
  /**
   * The unique id for the heading link.
   */
  id: string;

  /**
   * The level of the heading, determines which tag will be used (h1-h6).
   * @default "1"
   */
  level?: '1' | '2' | '3' | '4' | '5' | '6';

  /**
   * The size of the heading.
   * @default "6"
   */
  size?: '1' | '2' | '3' | '4' | '5' | '6' | '7' | '8' | '9';

  /**
   * Uses a higher contrast color for the heading.
   * @default true
   */
  highContrast?: boolean;
}

const { id, level = '1', size = '6', highContrast = true, class: className, ...others } = Astro.props;

$headingLinkStore.set({ id, size });
---

{
  level === '1' && (
    <h1 id={id} class={twm(headingLinkRootStyles({ size, highContrast }), className)} {...others}>
      <slot />
    </h1>
  )
}

{
  level === '2' && (
    <h2 id={id} class={twm(headingLinkRootStyles({ size, highContrast }), className)} {...others}>
      <slot />
    </h2>
  )
}

{
  level === '3' && (
    <h3 id={id} class={twm(headingLinkRootStyles({ size, highContrast }), className)} {...others}>
      <slot />
    </h3>
  )
}

{
  level === '4' && (
    <h4 id={id} class={twm(headingLinkRootStyles({ size, highContrast }), className)} {...others}>
      <slot />
    </h4>
  )
}

{
  level === '5' && (
    <h5 id={id} class={twm(headingLinkRootStyles({ size, highContrast }), className)} {...others}>
      <slot />
    </h5>
  )
}

{
  level === '6' && (
    <h6 id={id} class={twm(headingLinkRootStyles({ size, highContrast }), className)} {...others}>
      <slot />
    </h6>
  )
}
