---
import type { HTMLTag, Polymorphic } from 'astro/types';
import { twm } from '@/utilities/twm';
import { codeRootStyles } from './code-root.styles';

type Props<Tag extends HTMLTag = 'code'> = Polymorphic<{
  /**
   * @default "code"
   * Shorthand for changing the default rendered element into a semantically appropriate alternative.
   */
  as: Tag;

  /**
   * The variant of the code.
   * @default "soft"
   */
  variant?: 'solid' | 'soft';

  /**
   * The color of the code.
   * @default "primary"
   */
  color?: 'default' | 'primary';

  /**
   * Uses a higher contrast color for the code.
   */
  highContrast?: boolean;
}>;

const {
  as: Tag = 'code',
  variant = 'soft',
  color = 'primary',
  highContrast = false,
  class: className,
  ...others
} = Astro.props;
---

<Tag class={twm(codeRootStyles({ variant, color, highContrast }), className)} {...others}><slot /></Tag>
