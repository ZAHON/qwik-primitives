---
import type { HTMLTag, Polymorphic } from 'astro/types';
import { twm } from '@/utilities/twm';
import { calloutRootStyles } from './callout-root.styles';

type Props<Tag extends HTMLTag = 'div'> = Polymorphic<{
  /**
   * @default "div"
   * Shorthand for changing the default rendered element into a semantically appropriate alternative.
   */
  as: Tag;

  /**
   * Whether `callout` should be treated as an alert.
   */
  alert?: boolean;

  /**
   * The size of the callout.
   * @default "2"
   */
  size?: '1' | '2' | '3';

  /**
   * The color of the callout.
   * @default "primary"
   */
  color?: 'default' | 'primary' | 'success' | 'warning' | 'danger';

  /**
   * Uses a higher contrast color for the callout.
   */
  highContrast?: boolean;
}>;

const {
  as: Tag = 'div',
  alert,
  size = '2',
  color = 'primary',
  highContrast = false,
  class: className,
  ...others
} = Astro.props;
---

<Tag
  role={alert ? 'alert' : undefined}
  class={twm(calloutRootStyles({ size, color, highContrast }), className)}
  {...others}
>
  <slot />
</Tag>
